# Train once, fine-tune a bunch of ways on a bunch of things.
python main.py --config ../config/defaults.conf --overrides "exp_name = tuning_fine_tuning, train_tasks = mnli-fiction, run_name = setup, elmo_chars_only = 0, dropout = 0.4, val_interval = 500, do_eval = 0"

# TODO: Set up checkpoints
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = qqp_st, train_tasks = mnli-fiction, eval_tasks = qqp, do_train = 0, load_model = 1, qqp_d_hid_attn = 512, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = qqp_lg, train_tasks = mnli-fiction, eval_tasks = qqp, do_train = 0, load_model = 1, qqp_d_hid_attn = 768, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = qqp_sm, train_tasks = mnli-fiction, eval_tasks = qqp, do_train = 0, load_model = 1, qqp_d_hid_attn = 256, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"

cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = qqp_xs, train_tasks = mnli-fiction, eval_tasks = qqp, do_train = 0, load_model = 1, qqp_d_hid_attn = 128, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"

cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = mrpc_st, train_tasks = mnli-fiction, eval_tasks = mrpc, do_train = 0, load_model = 1, mrpc_d_proj = 256, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = mrpc_lg, train_tasks = mnli-fiction, eval_tasks = mrpc, do_train = 0, load_model = 1, mrpc_d_proj = 512, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = mrpc_sm, train_tasks = mnli-fiction, eval_tasks = mrpc, do_train = 0, load_model = 1, mrpc_d_proj = 128, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"

cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = wnli_st_b, train_tasks = mnli-fiction, eval_tasks = wnli, do_train = 0, load_model = 1, wnli_d_proj = 128, wnli_classifier_hid_dim = 128, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = wnli_sm_b, train_tasks = mnli-fiction, eval_tasks = wnli, do_train = 0, load_model = 1, wnli_d_proj = 128, wnli_classifier_hid_dim = 64, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th , exp_name = tuning_fine_tuning, run_name = wnli_xs_b, train_tasks = mnli-fiction, eval_tasks = wnli, do_train = 0, load_model = 1, wnli_d_proj = 128, wnli_classifier_hid_dim = 32, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"

cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th ,exp_name = tuning_fine_tuning, run_name = cola_st, train_tasks = mnli-fiction, eval_tasks = cola, do_train = 0, load_model = 1, cola_classifier_hid_dim = 512, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th ,exp_name = tuning_fine_tuning, run_name = cola_lg, train_tasks = mnli-fiction, eval_tasks = cola, do_train = 0, load_model = 1, cola_classifier_hid_dim = 1028, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
cd ~/jiant/src; python main.py --config ../config/defaults.conf --overrides "load_eval_checkpoint = /nfs/jsalt/exp/sam-gpu1b-1/tuning_fine_tuning/setup_revised/model_state_main_epoch_24.best_macro.th ,exp_name = tuning_fine_tuning, run_name = cola_sm, train_tasks = mnli-fiction, eval_tasks = cola, do_train = 0, load_model = 1, cola_classifier_hid_dim = 256, d_hid = 1024, skip_task_models = 1, elmo_chars_only = 0"
# Small best.
